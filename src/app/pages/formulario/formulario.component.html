<div class="formulario-page">
  
  <!-- Banner -->
  <div class="banner">
    <img src="assets/a2.avif" alt="Banner" />
    <div class="banner-overlay">
      <h1>Agenda tu sesi贸n</h1>
      <p>Elige el paquete que mejor se adapte a tus necesidades</p>
    </div>
  </div>

  <!-- Contenedor de paquetes -->
  <div class="paquetes-container">
    
    <!-- Loading -->
    <div class="loading" *ngIf="cargando">
      <div class="spinner"></div>
      <p>Cargando paquetes...</p>
    </div>

    <!-- Error -->
    <div class="error-message" *ngIf="error">
      {{ error }}
    </div>

    <!-- Grid de tarjetas -->
    <div class="paquetes-grid" *ngIf="!cargando && !error">
      <div 
        class="paquete-card"
        *ngFor="let paquete of paquetes"
        [class.destacado]="paquete.destacado"
        (click)="abrirModal(paquete)"
      >


        <!-- Nombre -->
        <h3>{{ paquete.nombre }}</h3>

        <!-- Descripci贸n -->
        <p class="descripcion">{{ paquete.descripcion }}</p>

        <!-- Detalles -->
        <div class="detalles">
          <div class="detalle-item">
            <span class="icono">
              <svg width="20" height="20" fill="none" stroke="#4a90e2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
            </span>
            <span>{{ paquete.duracion }} minutos</span>
          </div>
          <div class="detalle-item">
            <span class="icono">
              <svg width="20" height="20" fill="none" stroke="#4a90e2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="16" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
            </span>
            <span>{{ paquete.sesiones }} sesi贸n{{ paquete.sesiones > 1 ? 'es' : '' }}</span>
          </div>
          <div class="detalle-item">
            <span class="icono">
              <svg width="20" height="20" fill="none" stroke="#4a90e2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
            </span>
            <span>{{ paquete.modalidad === 'ambas' ? 'Presencial u Online' : paquete.modalidad }}</span>
          </div>
        </div>

        <!-- Precio -->
        <div class="precio">
          <span class="precio-amount">{{ getPrecio(paquete) }}</span>
        </div>

        <!-- Bot贸n -->
        <button class="btn-reservar">
          Reservar ahora
        </button>
      </div>
    </div>

    <!-- Mensaje si no hay paquetes -->
    <div class="no-paquetes" *ngIf="!cargando && !error && paquetes.length === 0">
      <p>No hay paquetes disponibles en este momento.</p>
    </div>

  </div>

  <!-- Modal de reserva -->
  <app-modal-reserva
    *ngIf="mostrarModal && paqueteSeleccionado"
    [paquete]="paqueteSeleccionado"
    (cerrar)="cerrarModal()"
    (reservaCompletada)="onReservaCompletada($event)"
  ></app-modal-reserva>

</div>
